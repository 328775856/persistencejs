<!DOCTYPE html>
<html lang='en' >
  <head>
    <title>jQuery mobile / persistencejs integration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="demos/jquerymobile/jquery.mobile-102610.min.css" />
    <script src="demos/jquerymobile/jquery-1.4.4pre.js" type="application/javascript"></script>
    <script src="demos/jquerymobile/jquery.mobile-102610.min.js" type="application/javascript"></script>
    <script src="http://code.google.com/apis/gears/gears_init.js"></script>
    <script src="lib/persistence.js" type="application/javascript"></script>
    <script src="lib/persistence.store.sql.js" type="application/javascript"></script>
    <script src="lib/persistence.store.websql.js" type="application/javascript"></script>
    <script src="lib/persistence.store.memory.js" type="application/javascript"></script>
    <script src="lib/jquery.persistence.js" type="application/javascript"></script>
    <script type="text/javascript">
      if (window.openDatabase) {
        persistence.store.websql.config(persistence, "jquerymobile", 'database', 5 * 1024 * 1024);
      } else {
        persistence.store.memory.config(persistence);
      }
      		
      var Doc = persistence.define('Docs', {
        path: "TEXT",
        data: "TEXT"
      });   
      
      persistence.leftStripPathElements = 2;
      
      //persistence.reset(function(tx) {		
        persistence.schemaSync(function(tx) {
        });
      //});
    </script>
  </head>
  <body>
    <div data-role="page" data-theme="b">
      <div data-role="content"> 
        <h1>jQuery mobile / persistencejs integration</h1>
        <h2>(Needs to run on a server)</h2>
        <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b">
          <li data-role="list-divider">Pages</li>
          <li><a href="demos/jquerymobile/docs/foo.html">Foo</a></li>
          <li><a href="demos/jquerymobile/docs/bar.html">Bar</a></li>
        </ul>
      </div>
    </div>
  </body>
</html>