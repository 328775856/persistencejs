<!DOCTYPE html>
<html lang='en' >
  <head>
    <title>jQuery mobile / persistencejs integration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="http://jquerymobile.com/test/themes/default" />
    <script src="http://jquerymobile.com/test/js/all"></script>
    <script src="http://code.google.com/apis/gears/gears_init.js"></script>
    <script src="../../lib/persistence.js"></script>
    <script src="../../lib/persistence.store.sql.js"></script>
    <script src="../../lib/persistence.store.websql.js"></script>
    <script src="../../lib/persistence.store.memory.js"></script>
    <script src="../../lib/jquery.persistence.js"></script>
    <script type="text/javascript">
      if (window.openDatabase) {
        persistence.store.websql.config(persistence, "jquerymobile", 'database', 5 * 1024 * 1024);
      } else {
        persistence.store.memory.config(persistence);
      }
      persistence.define('Docs', {
        path: "TEXT",
        data: "TEXT"
      });  
      persistence.define('Orderform', {
        shipping: "TEXT"
      });
      persistence.schemaSync();
      persistence.jqmUrlPathPrefix = "demo-pages";
    </script>
  </head>
  <body>
    <div data-role="page" data-theme="b">
      <div data-role="content"> 
        <h1>jQuery mobile / persistencejs integration</h1>
        <h2>(Needs to run on a server)</h2>
        <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b">
          <li data-role="list-divider">Pages</li>
          <li><a href="demo-pages/docs/foo.html">Foo</a></li>
          <li><a href="demo-pages/docs/bar.html">Bar</a></li> 
        </ul>
        <form action="demo-pages/orderform/form-get-response.html" method="get">
          <fieldset>
            <div data-role="fieldcontain">
              <label for="shipping" class="select">Formsubmission (GET):</label>
              <select name="shipping" id="shipping">
                <option value="Standard shipping">Standard: 7 day</option>
                <option value="Rush shipping">Rush: 3 days</option>
                <option value="Express shipping">Express: next day</option>
                <option value="Overnight shipping">Overnight</option>
              </select>
            </div>
          <button type="submit" data-theme="a">Submit</button>
        </fieldset>
        </form>  
        <a href="#" onclick="persistence.reset();persistence.schemaSync();" data-role="button">Reset DB</a>    
      </div>
    </div> 
  </body>
</html>
